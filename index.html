<!DOCTYPE html>
<html lang="z-Hans">

<head>
  <meta charset="UTF-8">
  <title>王婷の简历</title>
  <link rel="stylesheet" href="./main.css">
  <link rel="stylesheet" href="./swiper.min.css">
  <script src="//at.alicdn.com/t/font_455247_6x12y3ymna9bpgb9.js">

  </script>
  <style type="text/css">
    .icon {
      width: 1em;
      height: 1em;
      vertical-align: -0.15em;
      fill: currentColor;
      overflow: hidden;
    }
  </style>
</head>

<body>
  <div id="sideNavBar" class="topNavBar">
    <div class="topNavBarInner clearfix">
      <a class="logo" href="#" alt="logo" style="float:left">
            <span class="rs">RS</span><span class="card">card</span>
          </a>
      <nav class="menu" style="float:right">
        <ul class="clearfix">
          <li><a href="#sideAbout">关于</a></li>
          <li><a href="#sideSkill">技能</a></li>
          <li>
            <a href="#sideWork">作品</a>
            <ul class="submenu">
              <li>作品1</li>
              <li>作品2</li>
              <li>作品3</li>
            </ul>
          </li>
          <li>
            <a href="#">博客</a>
            <ul class="submenu">
              <li>博客1</li>
              <li>博客2</li>
            </ul>
          </li>
          <li><a href="#">联系方式</a></li>
          <li><a href="#">其他</a></li>
        </ul>
      </nav>
    </div>
  </div>

  <div class="banner">
    <div class="mask"></div>
  </div>
  <main>
    <div data-x id="sideAbout" class="userCard">
      <!--加上data-x的属性 方便调取 -->
      <div class="pictureAndText clearfix">
        <div class="picture">
          <img src="./img/WP.jpg" alt="头像">
        </div>
        <div class="text">
          <span class="welcome">
            HELLO
          <span class="triangle"></span>
          </span>
          <h1>王小逗</h1>
          <p>前端工程师</p>
          <hr>
          <dl class="clearfix">
            <dt>年龄</dt>
            <dd>25</dd>
            <dt>地址</dt>
            <dd>重庆</dd>
            <dt>邮箱</dt>
            <dd>88555222</dd>
            <dt>电话</dt>
            <dd>1234567899</dd>
          </dl>
        </div>
      </div>
      <footer class="media">
        <a href="#1">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-github"></use>
          </svg>
        </a>
        <a href="#2">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-hexo"></use>
          </svg>
        </a>
        <a href="#3">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-weibo"></use>
          </svg>
        </a>
        <a href="#4">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-shuyuanjianjie"></use>
          </svg>
        </a>
      </footer>
    </div>
    <a class="downloadResume" href="#" target="_blank" download><span class="xiazai">简历下载</span></a>
    <p>Experienced with all stages of the development cycle for dynamic web projects.</p>
  </main>
  <section data-x id="sideSkill" class="skills">
    <h2>技能</h2>
    <ol class="clearfix">
      <li>
        <h3>
          HTML5 &amp; CSS3
        </h3>
        <div class="progressBar">
          <div class="progress" style="width: 70%;"></div>
        </div>
      </li>
      <li>
        <h3>
          JavaScript
        </h3>
        <div class="progressBar">
          <div class="progress" style="width: 50%;"></div>
        </div>
      </li>
      <li>
        <h3>
          jQuery
        </h3>
        <div class="progressBar">
          <div class="progress" style="width: 90%;"></div>
        </div>
      </li>
      <li>
        <h3>
          Vue
        </h3>
        <div class="progressBar">
          <div class="progress" style="width: 80%;"></div>
        </div>
      </li>
      <li>
        <h3>
          React
        </h3>
        <div class="progressBar">
          <div class="progress" style="width: 60%;"></div>
        </div>
      </li>
      <li>
        <h3>
          HTTP
        </h3>
        <div class="progressBar">
          <div class="progress" style="width: 50%;"></div>
        </div>
      </li>
    </ol>
  </section>
  <section data-x id="sideWork" class="portfolio">
    <h2>作品</h2>
    
    <!-- 添加轮播 -->
    <style>
      .swiper-container {
        width: 800px;
        height: 450px;
      }
    </style>
    <div class="swiper-container">
      <div class="swiper-wrapper">
        <img src="./img/4.jpg" class="swiper-slide">
        <img src="./img/5.jpg" class="swiper-slide">
        <img src="./img/6.jpg" class="swiper-slide">
      </div>
      <!-- 如果需要分页器 -->
      <div class="swiper-pagination"></div>
    </div>
    <!-- 如果需要导航按钮 --><!--把箭头放在了外面-->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </section>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.1.1/Tween.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.1.6/js/swiper.min.js"></script>
  <script>
      // siteWelcome.classList.remove('active')   //运行到这里说明前面都加载完了 这时把loading去掉就可以了 

      let specialTags = document.querySelectorAll('[data-x]')//取出含有这个属性的元素
      for (let i = 0; i < specialTags.length; i++) {
        specialTags[i].classList.add('offset') //让每个部分都是从下向上飘出来的
      }
      findClosest()

      window.onscroll = function () {
        if (window.scrollY > 0) {
          sideNavBar.classList.add('nian')
        } else {
          sideNavBar.classList.remove('nian')
        }
        findClosest()
      }
      function findClosest() {
        //下面这一堆是在滚动时发生的 所以要放在滚动事件里
        let specialTags = document.querySelectorAll('[data-x]')//取出含有这个属性的元素
        let minIndex = 0 //假设最小的是0，下面从1开始遍历比较
        for (let i = 1; i < specialTags.length; i++) {
          if (Math.abs(specialTags[i].offsetTop - window.scrollY) < Math.abs(specialTags[minIndex].offsetTop - window.scrollY)) {
            minIndex = i
          }
        }
        specialTags[minIndex].classList.remove('offset')
        let id = specialTags[minIndex].id
        let a = document.querySelector('a[href="#' + id + '"]') //a[href="#sideAbout"]
        let li = a.parentNode
        let brotherAndMe = li.parentNode.children
        for (let i = 0; i < brotherAndMe.length; i++) {
          brotherAndMe[i].classList.remove('highlight')
        }
        li.classList.add('highlight')
      }

      let liTags = document.querySelectorAll('nav.menu > ul > li')//直接寻找nav下的li元素
      for (let i = 0; i < liTags.length; i++) {
        liTags[i].onmouseenter = function (x) {
          x.currentTarget.classList.add('active')    //移进li标签就加上active样式  
        }
        liTags[i].onmouseleave = function (x) {
          x.currentTarget.classList.remove('active')
        }
      }


      let aTags = document.querySelectorAll('nav.menu > ul >li >a')
      function animate(time) {
        requestAnimationFrame(animate);
        TWEEN.update(time);
      }
      requestAnimationFrame(animate);//这一部分是tween.js的
      for (let i = 0; i < aTags.length; i++) {
        aTags[i].onclick = function (x) {
          x.preventDefault()
          let a = x.currentTarget
          let href = a.getAttribute('href') // #sideAbout
          let element = document.querySelector(href) //取出选择器名为href的元素
          let top = element.offsetTop//完整页面上 每个元素到页面顶部的高度
          //下面这段是从tween.js里抄来的
          var currentTop = window.scrollY
          var targetTop = top - 90
          var s = targetTop - currentTop
          var t = Math.abs((s / 100) * 300) //距离越长 时间越长 取绝对值
          if (t >= 500) { t = 500 }
          var coords = { y: currentTop };
          var tween = new TWEEN.Tween(coords)
            .to({ y: targetTop }, t)
            .easing(TWEEN.Easing.Quadratic.InOut)
            .onUpdate(function () {
              window.scrollTo(0, coords.y)
            })
            .start();
        }
      }

  </script>
  <script>        
      var mySwiper = new Swiper ('.swiper-container', {
        loop: true,
        
        // 如果需要分页器
        pagination: {
          el: '.swiper-pagination'
        },
        
        // 如果需要前进后退按钮
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev'
        }
      
      })        
      </script>
</body>

</html>